---
import Layout from '../layouts/mainLayout.astro'
import Profile from '../components/Profile.astro'
import News from '../components/News.astro'
import Blog from '../components/Blog.astro'

import { getTopNews } from '../api/news'
import { getTopBlog } from '../api/blog'

const newsList = await getTopNews()

const blogList = await getTopBlog()
---

<Layout title="maru's room">
  <main class="page">
    <div class="page-firstview">
      <div class="page-logo-wrapper">
        <svg class="page-logo" viewBox="0 0 1000 191">
          <use xlink:href="logo-1.svg#logo"></use>
        </svg>
      </div>
      <p class="page-logo-paragraph">Welcome to maru's room!</p>
    </div>
    <div class="page-section-list">
      <Profile />
      <News newsList={newsList.results} />
      <Blog blogList={blogList.results} />
    </div>
  </main>
</Layout>

<style lang="scss">
  @import '../styles/_variables.scss';

  .page {
    padding: 100px 20px;

    &-firstview {
      margin-bottom: 100px;
    }

    &-section-list {
      display: flex;
      flex-direction: column;
      row-gap: 150px;
    }

    &-logo {
      margin: auto;
      width: 500px;

      &-paragraph {
        margin-top: 10px;
        font-weight: 300;
        color: #555555;
        text-align: center;
      }

      &-wrapper {
        text-align: center;
      }
    }
  }
  .main-bg {
    background-color: map-get($map: $base-colors, $key: 'primary');
  }
</style>
